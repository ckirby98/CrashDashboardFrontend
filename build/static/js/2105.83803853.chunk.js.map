{"version":3,"file":"static/js/2105.83803853.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/fontUtils.js","../node_modules/@arcgis/core/views/support/colorUtils.js","../node_modules/@arcgis/core/symbols/support/previewSymbol2D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../config.js\";const t=\"woff2\",r=new Map;async function n(n){const s=o(n);let a=r.get(s);if(a)return a;const i=new FontFace(n.family,`url('${e.fontsUrl}/woff2/${s}.${t}') format('${t}')`),c=document.fonts;return c.has(i)&&\"loading\"===i.status?i.loaded:(a=i.load(),r.set(s,a),c.add(i),a)}function s(e){if(!e)return\"arial-unicode-ms\";const t=e.toLowerCase().split(\" \").join(\"-\");switch(t){case\"serif\":return\"noto-serif\";case\"sans-serif\":return\"arial-unicode-ms\";case\"monospace\":return\"ubuntu-mono\";case\"fantasy\":return\"cabin-sketch\";case\"cursive\":return\"redressed\";default:return t}}function o(e){const t=a(e)+i(e);return s(e.family)+(t.length>0?t:\"-regular\")}function a(e){if(!e.weight)return\"\";switch(e.weight.toLowerCase()){case\"bold\":case\"bolder\":return\"-bold\"}return\"\"}function i(e){if(!e.style)return\"\";switch(e.style.toLowerCase()){case\"italic\":case\"oblique\":return\"-italic\"}return\"\"}export{s as getFontFamily,o as getFullyQualifiedFontName,n as loadFont};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport t from\"../../Color.js\";import{isSome as r}from\"../../core/maybe.js\";async function n(r){await r.whenReady();const n=r.basemapView?.baseLayerViews.map((t=>t.layer)).toArray()??[];if(!n.length){const n=getComputedStyle(r.container).backgroundColor,a=n&&new t(n);return r.get(\"background.color\")||(a&&0!==a.a?a:null)||null}const a=(await r.takeScreenshot({format:\"png\",layers:n})).data.data,o=a.length;let e=0,u=0,l=0,c=0,s=0,i=0;for(let t=0;t<o;t+=4){const r=a[t],n=a[t+1],o=a[t+2],h=a[t+3],d=h/255;e+=r*r*d,u+=n*n*d,l+=o*o*d,s+=d,h&&(c+=h,i++)}e=Math.round(Math.sqrt(e/s)),u=Math.round(Math.sqrt(u/s)),l=Math.round(Math.sqrt(l/s));return new t([e,u,l,c/i/255])}async function a(t){if(!t)return null;const a=await n(t);return r(a)?o(a):null}function o(t){return e(t).isBright?\"light\":\"dark\"}function e(r){let{r:n,g:a,b:o,a:e}=r;return e<1&&(n=Math.round(e*n+255*(1-e)),a=Math.round(e*a+255*(1-e)),o=Math.round(e*o+255*(1-e))),new t({r:n,g:a,b:o})}function u(t){const{r,g:n,b:a}=e(t);return.2126*r+.7152*n+.0722*a}export{n as getBackgroundColor,a as getBackgroundColorTheme,u as getColorLuminance,o as getColorTheme};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../Color.js\";import t from\"../../core/Error.js\";import{loadFont as a}from\"../../core/fontUtils.js\";import{pt2px as n,px2pt as l}from\"../../core/screenUtils.js\";import{getFill as i,getStroke as s,getPatternUrlWithColor as o}from\"./gfxUtils.js\";import{SymbolSizeDefaults as r,shapes as c,adjustColorBrightness as m}from\"./previewUtils.js\";import{renderSymbol as u}from\"./renderUtils.js\";import{getColorLuminance as h}from\"../../views/support/colorUtils.js\";const p=\"picture-fill\",d=\"picture-marker\",f=\"simple-fill\",y=\"simple-line\",w=\"simple-marker\",g=\"text\",v=\"Aa\",b=r.size,x=r.maxSize,k=r.maxOutlineSize,M=r.lineWidth,z=225,L=document.createElement(\"canvas\");function j(e,t){const a=L.getContext(\"2d\"),n=[];return t&&(t.weight&&n.push(t.weight),t.size&&n.push(t.size+\"px\"),t.family&&n.push(t.family)),a.font=n.join(\" \"),a.measureText(e).width}const C=7.2/2.54,S=72/2.54;function F(e){if(0===e.length)return 0;if(e.length>2){const t=l(1),a=parseFloat(e);switch(e.slice(-2)){case\"px\":return a;case\"pt\":return a*t;case\"in\":return 72*a*t;case\"pc\":return 12*a*t;case\"mm\":return a*C*t;case\"cm\":return a*S*t}}return parseFloat(e)}function E(e){const t=e?.size;return{width:null!=t&&\"object\"==typeof t&&\"width\"in t?n(t.width):null,height:null!=t&&\"object\"==typeof t&&\"height\"in t?n(t.height):null}}async function U(e,t){const a=t.fill,n=e.color;if(\"pattern\"===a?.type&&n&&e.type!==p){const e=await o(a.src,n.toCss(!0));a.src=e,t.fill=a}}async function Z(e,t,n,l){if(!(\"font\"in e)||!e.font||\"text\"!==t.shape.type)return;try{await a(e.font)}catch{}const{width:i}=E(l),s=/[\\uE600-\\uE6FF]/.test(t.shape.text);null!=i||s||(n[0]=j(t.shape.text,{weight:t.font?.weight,size:t.font?.size,family:t.font?.family}))}function q(e,t){return e>t?\"dark\":\"light\"}function D(e,t){const a=\"number\"==typeof t?.size?t?.size:null,l=null!=a?n(a):null,o=null!=t?.maxSize?n(t.maxSize):null,r=null!=t?.rotation?t.rotation:\"angle\"in e?e.angle:null,m=i(e);let u=s(e);\"dark\"!==T(e,245)||t?.ignoreWhiteSymbols||(u={width:.75,...u,color:\"#bdc3c7\"});const h={shape:null,fill:m,stroke:u,offset:[0,0]};u?.width&&(u.width=Math.min(u.width,k));const z=u?.width||0;let L=null!=t?.size&&(null==t?.scale||t?.scale),C=0,S=0,U=!1;switch(e.type){case w:{const a=e.style,{width:i,height:s}=E(t),c=i===s&&null!=i?i:null!=l?l:Math.min(n(e.size),o||x);switch(C=c,S=c,a){case\"circle\":h.shape={type:\"circle\",cx:0,cy:0,r:.5*c},L||(C+=z,S+=z);break;case\"cross\":h.shape={type:\"path\",path:[{command:\"M\",values:[0,.5*S]},{command:\"L\",values:[C,.5*S]},{command:\"M\",values:[.5*C,0]},{command:\"L\",values:[.5*C,S]}]};break;case\"diamond\":h.shape={type:\"path\",path:[{command:\"M\",values:[0,.5*S]},{command:\"L\",values:[.5*C,0]},{command:\"L\",values:[C,.5*S]},{command:\"L\",values:[.5*C,S]},{command:\"Z\",values:[]}]},L||(C+=z,S+=z);break;case\"square\":h.shape={type:\"path\",path:[{command:\"M\",values:[0,0]},{command:\"L\",values:[C,0]},{command:\"L\",values:[C,S]},{command:\"L\",values:[0,S]},{command:\"Z\",values:[]}]},L||(C+=z,S+=z),r&&(U=!0);break;case\"triangle\":h.shape={type:\"path\",path:[{command:\"M\",values:[.5*C,0]},{command:\"L\",values:[C,S]},{command:\"L\",values:[0,S]},{command:\"Z\",values:[]}]},L||(C+=z,S+=z),r&&(U=!0);break;case\"x\":h.shape={type:\"path\",path:[{command:\"M\",values:[0,0]},{command:\"L\",values:[C,S]},{command:\"M\",values:[C,0]},{command:\"L\",values:[0,S]}]},r&&(U=!0);break;case\"path\":h.shape={type:\"path\",path:e.path||\"\"},L||(C+=z,S+=z),r&&(U=!0),L=!0}break}case y:{const{width:e,height:a}=E(t),n=null!=a?a:null!=l?l:z,i=null!=e?e:M;u&&(u.width=n),C=i,S=n;const s=h?.stroke?.cap||\"butt\",o=\"round\"===s;L=!0,h.stroke&&(h.stroke.cap=\"butt\"===s?\"square\":s),h.shape={type:\"path\",path:[{command:\"M\",values:[o?n/2:0,S/2]},{command:\"L\",values:[o?C-n/2:C,S/2]}]};break}case p:case f:{const e=\"object\"==typeof t?.symbolConfig&&t?.symbolConfig.isSquareFill,{width:a,height:n}=E(t);C=!e&&a!==n||null==a?null!=l?l:b:a,S=!e&&a!==n||null==n?C:n,L||(C+=z,S+=z),L=!0,h.shape=e?{type:\"path\",path:[{command:\"M\",values:[0,0]},{command:\"L\",values:[C,0]},{command:\"L\",values:[C,S]},{command:\"L\",values:[0,S]},{command:\"L\",values:[0,0]},{command:\"Z\",values:[]}]}:c.fill[0];break}case d:{const a=Math.min(n(e.width),o||x),i=Math.min(n(e.height),o||x),{width:s,height:c}=E(t),m=s===c&&null!=s?s:null!=l?l:Math.max(a,i),u=a/i;C=u<=1?Math.ceil(m*u):m,S=u<=1?m:Math.ceil(m/u),h.shape={type:\"image\",x:-Math.round(C/2),y:-Math.round(S/2),width:C,height:S,src:e.url||\"\"},r&&(U=!0);break}case g:{const a=e,i=t?.overrideText||a.text||v,s=a.font,{width:r,height:c}=E(t),m=null!=c?c:null!=l?l:Math.min(n(s.size),o||x),u=j(i,{weight:s.weight,size:m,family:s.family}),p=/[\\uE600-\\uE6FF]/.test(i);C=r??(p?m:u),S=m;let d=.25*F((s?m:0).toString());p&&(d+=5),h.shape={type:\"text\",text:i,x:a.xoffset||0,y:a.yoffset||d,align:\"middle\",alignBaseline:a.verticalAlignment,decoration:s&&s.decoration,rotated:a.rotated,kerning:a.kerning},h.font=s&&{size:m,style:s.style,decoration:s.decoration,weight:s.weight,family:s.family};break}}return{shapeDescriptor:h,size:[C,S],renderOptions:{node:t?.node,scale:L,opacity:t?.opacity,rotation:r,useRotationSize:U,effectView:t?.effectView}}}async function O(e,a){const{shapeDescriptor:n,size:l,renderOptions:i}=D(e,a);if(!n.shape)throw new t(\"symbolPreview: renderPreviewHTML2D\",\"symbol not supported.\");await U(e,n),await Z(e,n,l,a);const s=[[n]];if(\"object\"==typeof a?.symbolConfig&&a?.symbolConfig.applyColorModulation){const e=.6*l[0];s.unshift([{...n,offset:[-e,0],fill:m(n.fill,-.3)}]),s.push([{...n,offset:[e,0],fill:m(n.fill,.3)}]),l[0]+=2*e,i.scale=!1}return u(s,l,i)}function T(t,a=z){const n=i(t),l=s(t),o=!n||\"type\"in n?null:new e(n),r=l?.color?new e(l?.color):null,c=o?q(h(o),a):null,m=r?q(h(r),a):null;return m?c?c===m?c:a>=z?\"light\":\"dark\":m:c}export{T as getContrastingBackgroundTheme,D as getRenderSymbolParameters,O as previewSymbol2D};\n"],"names":["t","r","Map","async","n","s","o","a","get","i","FontFace","family","e","c","document","fonts","has","status","loaded","load","set","add","toLowerCase","split","join","weight","style","length","g","b","Math","round","u","p","d","f","y","w","v","x","k","M","z","L","createElement","j","getContext","push","size","font","measureText","width","C","S","F","l","parseFloat","slice","E","height","q","O","shapeDescriptor","renderOptions","maxSize","rotation","angle","m","T","ignoreWhiteSymbols","color","h","shape","fill","stroke","offset","min","scale","U","type","cx","cy","path","command","values","cap","symbolConfig","isSquareFill","max","ceil","src","url","overrideText","text","test","toString","xoffset","yoffset","align","alignBaseline","verticalAlignment","decoration","rotated","kerning","node","opacity","useRotationSize","effectView","D","toCss","Z","applyColorModulation","unshift"],"sourceRoot":""}